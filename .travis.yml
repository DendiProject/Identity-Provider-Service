sudo: false
language: java

services:


before_install:
- cd $TRAVIS_BUILD_DIR/doc ; cp test_document.adoc $TRAVIS_BUILD_DIR
- cd $TRAVIS_BUILD_DIR
- chmod +x mvnw


script:
  - ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
  - rm test_document.adoc



after_failure:



after_success:
  - cd $TRAVIS_BUILD_DIR/temp ; ls ; mv README.html index.html
  - mkdir doc ; mv test_document.pdf doc/test_document.pdf ; mv test_document.html doc/test_document.html
  - cd $TRAVIS_BUILD_DIR/temp/doc ; ls
  - rm asciidoctor.css ; rm coderay-asciidoctor.css
  - cd $TRAVIS_BUILD_DIR/temp
  - git init
  - git config --global  user.name "${GH_USER_NAME}"
  - git config --global  user.email "{GH_USER_EMAIL}"
  - git status
  - git add . ; git commit -m "Deploy to GitHub Pages"
  - git checkout -b gh-pages
  - git pull
  - git push --force "https://${GH_TOKEN}@${GH_REF}" gh-pages

 notifications:
 slack: uncvstu:rIa9LJi4cA5UIQUQDRm4slAz
 template:
  - "%{repository} (%{commit}) : %{message} %{foo} "
  - "Build details: %{build_url}"
